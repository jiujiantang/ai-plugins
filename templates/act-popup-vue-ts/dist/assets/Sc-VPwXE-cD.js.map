{"version":3,"file":"Sc-VPwXE-cD.js","sources":["../../src/uiux/lib/Sc.js"],"sourcesContent":["window._lib_sc=(function() {\r\n  // convertData 函数用于将输入数据根据指定类型进行转换，并在必要时提供默认值\r\n  const convertData = (data, type, defaultValue) => {\r\n    // 检查数据是否不是 undefined 和 null，使用严格比较\r\n    if (data !== undefined && data !== null) {\r\n      // 根据指定的类型对数据进行转换\r\n      switch (type) {\r\n        case 'string':\r\n          return String(data); // 转换为字符串\r\n        case 'number':\r\n          return Number(data); // 转换为数字\r\n        case 'bool':\r\n          return Boolean(data === 1); // 检查数据是否为 1，并转换为布尔值\r\n        case 'array':\r\n          return Array.isArray(data) ? data : []; // 检查数据是否为数组，否则返回空数组\r\n        default:\r\n          return data; // 返回原始数据\r\n      }\r\n    } else {\r\n      // 如果数据是 undefined 或 null，则返回默认值\r\n      switch (type) {\r\n        case 'string':\r\n          return defaultValue !== undefined ? defaultValue : ''; // 如果提供了默认值则返回默认值，否则返回空字符串\r\n        case 'number':\r\n          return defaultValue !== undefined ? defaultValue : 0; // 如果提供了默认值则返回默认值，否则返回 0\r\n        default:\r\n          return defaultValue; // 返回提供的默认值\r\n      }\r\n    }\r\n  };\r\n\r\n  // reportTrackEvent 函数用于上报跟踪事件\r\n  const trackEvent  = (eventName, params) => {\r\n    // 检查 window 对象上是否有名为 TP3D66SENSORSTRACK 的函数\r\n    if (typeof window.TP3D66SENSORSTRACK === 'function') {\r\n      // 使用 Object.entries 将 params 内的每个键值对转成数组，并使用 reduce 方法进行迭代\r\n      const formattedParams = Object.entries(params).reduce((acc, [key, value]) => {\r\n        // 对每个键值对中的值进行检查，如果是数组则调用 convertData 进行处理\r\n        acc[key] = Array.isArray(value)\r\n          ? convertData(...value) // ...value 是扩展运算符，传递 value 数组作为参数\r\n          : value; // 如果不是数组，直接赋值\r\n        return acc; // 返回累积的对象\r\n      }, {}); // 初始值是一个空对象 {}\r\n\r\n      // 调用 TP3D66SENSORSTRACK 函数，传递事件名称和格式化参数\r\n      window.TP3D66SENSORSTRACK(eventName, formattedParams);\r\n    }\r\n  };\r\n\r\n  // 神策登录\r\n  const registerEvent = () => {\r\n    // if(typeof window.TP3D66SENSORSUSERLOGIN === 'function' && JSON.parse($.cookie('userCookieData')).user_id){\r\n    //   window.TP3D66SENSORSUSERLOGIN(JSON.parse($.cookie('userCookieData')).user_id);\r\n    // }\r\n    if(typeof window.TP3D66SENSORSUSERLOGIN === 'function') {\r\n      var userCookieData = $.cookie('userCookieData');\r\n      if (userCookieData) {\r\n        try {\r\n          var userData = JSON.parse(userCookieData);\r\n          if (userData.user_id) {\r\n            window.TP3D66SENSORSUSERLOGIN(userData.user_id);\r\n          }\r\n        } catch (e) {\r\n          console.warn('Failed to parse user cookie data:', e);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  registerEvent();\r\n\r\n  /**\r\n   * 页面曝光:\r\n   * trackEvent (\"LykY24double11Exposure\", {})\r\n   * 点击曝光：\r\n   * trackEvent (\"LykY24double11Click\", {double11_24y_click: [9, 'number']})\r\n   */\r\n  return {\r\n    trackEvent\r\n  }\r\n})()\r\n"],"names":["convertData","data","type","defaultValue","trackEvent","eventName","params","formattedParams","acc","key","value","userCookieData","userData","e"],"mappings":"AAAA,OAAO,SAAS,UAAW,CAEzB,MAAMA,EAAc,CAACC,EAAMC,EAAMC,IAAiB,CAEhD,GAA0BF,GAAS,KAEjC,OAAQC,EAAI,CACV,IAAK,SACH,OAAO,OAAOD,CAAI,EACpB,IAAK,SACH,OAAO,OAAOA,CAAI,EACpB,IAAK,OACH,OAAeA,IAAS,EAC1B,IAAK,QACH,OAAO,MAAM,QAAQA,CAAI,EAAIA,EAAO,CAAA,EACtC,QACE,OAAOA,CACjB,KAGM,QAAQC,EAAI,CACV,IAAK,SACH,OAAOC,IAAiB,OAAYA,EAAe,GACrD,IAAK,SACH,OAAOA,IAAiB,OAAYA,EAAe,EACrD,QACE,OAAOA,CACjB,CAEE,EAGMC,EAAc,CAACC,EAAWC,IAAW,CAEzC,GAAI,OAAO,OAAO,oBAAuB,WAAY,CAEnD,MAAMC,EAAkB,OAAO,QAAQD,CAAM,EAAE,OAAO,CAACE,EAAK,CAACC,EAAKC,CAAK,KAErEF,EAAIC,CAAG,EAAI,MAAM,QAAQC,CAAK,EAC1BV,EAAY,GAAGU,CAAK,EACpBA,EACGF,GACN,CAAA,CAAE,EAGL,OAAO,mBAAmBH,EAAWE,CAAe,CACtD,CACF,EAsBA,OAnBsB,IAAM,CAI1B,GAAG,OAAO,OAAO,wBAA2B,WAAY,CACtD,IAAII,EAAiB,EAAE,OAAO,gBAAgB,EAC9C,GAAIA,EACF,GAAI,CACF,IAAIC,EAAW,KAAK,MAAMD,CAAc,EACpCC,EAAS,SACX,OAAO,uBAAuBA,EAAS,OAAO,CAElD,OAASC,EAAG,CACV,QAAQ,KAAK,oCAAqCA,CAAC,CACrD,CAEJ,CACF,KAUO,CACL,WAAAT,CACJ,CACA,GAAC"}